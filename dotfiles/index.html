<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOTFILES // CYBERPUNK PROVISIONING SYSTEM</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --neon-cyan: #00ffff;
            --neon-pink: #ff006e;
            --neon-yellow: #ffdd00;
            --neon-green: #00ff88;
            --dark-bg: #0a0a0a;
            --grid-color: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #888888;
            --glitch-red: #ff0040;
            --glitch-blue: #00ddff;
            --terminal-green: #00ff88;
            --panel-bg: rgba(10, 10, 10, 0.9);
            --border-color: rgba(0, 255, 255, 0.3);
        }

        body {
            font-family: 'Share Tech Mono', monospace;
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Animated grid background */
        .grid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: grid-move 10s linear infinite;
            z-index: -2;
        }

        @keyframes grid-move {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        /* Scanline effect */
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(0, 255, 255, 0.03) 2px,
                rgba(0, 255, 255, 0.03) 4px
            );
            pointer-events: none;
            z-index: 1;
        }

        /* Floating particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }

        .particle {
            position: absolute;
            background: var(--neon-cyan);
            width: 2px;
            height: 2px;
            box-shadow: 0 0 10px var(--neon-cyan);
            animation: float-up 20s linear infinite;
        }

        @keyframes float-up {
            0% {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% {
                transform: translateY(-10vh) translateX(100px);
                opacity: 0;
            }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 10;
        }

        /* Glitch effect for title */
        h1 {
            font-family: 'Orbitron', monospace;
            font-weight: 900;
            font-size: 3rem;
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
            text-transform: uppercase;
            letter-spacing: 5px;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 10px var(--neon-cyan), 0 0 20px var(--neon-cyan), 0 0 30px var(--neon-cyan); }
            to { text-shadow: 0 0 20px var(--neon-cyan), 0 0 30px var(--neon-cyan), 0 0 40px var(--neon-cyan); }
        }

        .subtitle {
            text-align: center;
            color: var(--neon-pink);
            margin-bottom: 3rem;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        /* Workstation Panel */
        .workstation-panel {
            background: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
        }

        .workstation-header {
            color: var(--neon-yellow);
            font-size: 1.5rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .workstation-header::before {
            content: '⚡';
            font-size: 1.5rem;
        }

        .workstation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1rem;
        }

        .workstation-item {
            background: rgba(0, 255, 255, 0.05);
            border: 1px solid rgba(0, 255, 255, 0.2);
            padding: 1rem;
            border-radius: 4px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .workstation-item:hover {
            background: rgba(0, 255, 255, 0.1);
            border-color: var(--neon-cyan);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 255, 0.4);
        }

        .workstation-name {
            color: var(--neon-cyan);
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .workstation-specs {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        /* Stats Display */
        .stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .stat-item {
            background: var(--panel-bg);
            border: 1px solid var(--border-color);
            padding: 1.5rem 2rem;
            border-radius: 8px;
            text-align: center;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .stat-item::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--neon-cyan), var(--neon-pink));
            border-radius: 8px;
            opacity: 0;
            z-index: -1;
            transition: opacity 0.3s;
        }

        .stat-item:hover::before {
            opacity: 0.5;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--neon-cyan);
            font-family: 'Orbitron', monospace;
            text-shadow: 0 0 10px currentColor;
        }

        .stat-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-top: 0.5rem;
        }

        /* Section styling */
        .section {
            background: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--neon-cyan), transparent);
            animation: scan 3s linear infinite;
        }

        @keyframes scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .section h2 {
            font-family: 'Orbitron', monospace;
            color: var(--neon-pink);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .tool-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1rem;
        }

        .tool-item {
            background: rgba(0, 255, 255, 0.05);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 4px;
            padding: 1rem;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .tool-item::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .tool-item:hover::after {
            left: 100%;
        }

        .tool-item:hover {
            border-color: var(--neon-cyan);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 255, 0.4);
        }

        .tool-item.selected {
            background: rgba(0, 255, 136, 0.1);
            border-color: var(--neon-green);
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.4);
        }

        label {
            display: flex;
            align-items: flex-start;
            cursor: pointer;
            gap: 0.75rem;
        }

        input[type="checkbox"] {
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid var(--neon-cyan);
            border-radius: 4px;
            margin-top: 0.25rem;
            cursor: pointer;
            position: relative;
            transition: all 0.3s;
        }

        input[type="checkbox"]:checked {
            background: var(--neon-green);
            border-color: var(--neon-green);
            box-shadow: 0 0 10px var(--neon-green);
        }

        input[type="checkbox"]:checked::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--dark-bg);
            font-weight: bold;
        }

        .tool-info {
            flex: 1;
        }

        .tool-name {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .tool-description {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .code-badge {
            display: inline-block;
            background: rgba(0, 255, 255, 0.1);
            color: var(--neon-cyan);
            padding: 0.125rem 0.5rem;
            border-radius: 3px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.75rem;
            margin-left: 0.5rem;
            border: 1px solid rgba(0, 255, 255, 0.3);
        }

        .select-all {
            font-size: 0.875rem;
            color: var(--neon-yellow);
            cursor: pointer;
            text-decoration: none;
            border: 1px solid var(--neon-yellow);
            padding: 0.25rem 0.75rem;
            border-radius: 3px;
            margin-left: auto;
            transition: all 0.3s;
        }

        .select-all:hover {
            background: var(--neon-yellow);
            color: var(--dark-bg);
            box-shadow: 0 0 10px var(--neon-yellow);
        }

        /* Action buttons */
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 3rem;
            flex-wrap: wrap;
        }

        button {
            background: transparent;
            color: var(--neon-cyan);
            border: 2px solid var(--neon-cyan);
            padding: 1rem 2rem;
            font-size: 1rem;
            font-family: 'Orbitron', monospace;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--neon-cyan);
            transition: left 0.3s;
            z-index: -1;
        }

        button:hover {
            color: var(--dark-bg);
            box-shadow: 0 0 20px var(--neon-cyan);
        }

        button:hover::before {
            left: 0;
        }

        button.secondary {
            color: var(--neon-pink);
            border-color: var(--neon-pink);
        }

        button.secondary::before {
            background: var(--neon-pink);
        }

        button.secondary:hover {
            box-shadow: 0 0 20px var(--neon-pink);
        }

        /* Script output */
        .script-output {
            background: #000;
            border: 1px solid var(--neon-green);
            border-radius: 4px;
            padding: 1.5rem;
            margin-top: 3rem;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.875rem;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 500px;
            overflow-y: auto;
            display: none;
            color: var(--neon-green);
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);
        }

        .script-output::-webkit-scrollbar {
            width: 10px;
        }

        .script-output::-webkit-scrollbar-track {
            background: #000;
        }

        .script-output::-webkit-scrollbar-thumb {
            background: var(--neon-green);
            border-radius: 5px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            .container { padding: 1rem; }
            .tool-grid { grid-template-columns: 1fr; }
            .workstation-grid { grid-template-columns: 1fr; }
            button { padding: 0.75rem 1.5rem; font-size: 0.875rem; }
        }
    </style>
</head>
<body>
    <div class="grid-bg"></div>
    <div class="scanlines"></div>
    <div class="particles" id="particles"></div>

    <div class="container">
        <h1>DOTFILES // PROVISIONING</h1>
        <p class="subtitle">Cyberpunk Development Environment Setup</p>

        <!-- Workstation Panel -->
        <div class="workstation-panel">
            <div class="workstation-header">Known Workstations</div>
            <div class="workstation-grid">
                <div class="workstation-item" onclick="selectWorkstation('doppler')">
                    <div class="workstation-name">peter@doppler</div>
                    <div class="workstation-specs">MS-01 S1290 • RTX 4000 SFF • 128GB DDR5 • 4TB SSD</div>
                </div>
                <div class="workstation-item" onclick="selectWorkstation('kepler')">
                    <div class="workstation-name">peter@kepler</div>
                    <div class="workstation-specs">HX90 • Compact Powerhouse</div>
                </div>
                <div class="workstation-item" onclick="selectWorkstation('merlin')">
                    <div class="workstation-name">peter@merlin</div>
                    <div class="workstation-specs">MS-01 • Development Server</div>
                </div>
                <div class="workstation-item" onclick="selectWorkstation('celsius')">
                    <div class="workstation-name">peter@celsius</div>
                    <div class="workstation-specs">MS-01 • Lab System</div>
                </div>
                <div class="workstation-item" onclick="selectWorkstation('macgyver')">
                    <div class="workstation-name">peter@macgyver</div>
                    <div class="workstation-specs">Battery Tester • Specialized Hardware</div>
                </div>
                <div class="workstation-item" onclick="selectWorkstation('flashbatt')">
                    <div class="workstation-name">flashbatt@flashbatt</div>
                    <div class="workstation-specs">Battery Flasher • Production System</div>
                </div>
            </div>
        </div>

        <div class="stats">
            <div class="stat-item">
                <div class="stat-value" id="selectedCount">0</div>
                <div class="stat-label">Selected Tools</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="totalCount">0</div>
                <div class="stat-label">Total Available</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="workstationName">-</div>
                <div class="stat-label">Target System</div>
            </div>
        </div>

        <!-- Core Tools Section -->
        <div class="section">
            <h2>⚡ Core Development Tools <span class="select-all" onclick="toggleSection('core')">select all</span></h2>
            <div class="tool-grid" id="core">
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="git" checked>
                        <div class="tool-info">
                            <div class="tool-name">Git & GitHub CLI <code class="code-badge">git, gh</code></div>
                            <div class="tool-description">Version control and GitHub integration</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="build-essential" checked>
                        <div class="tool-info">
                            <div class="tool-name">Build Essentials</div>
                            <div class="tool-description">GCC, make, and core compilation tools</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="vim">
                        <div class="tool-info">
                            <div class="tool-name">Vim</div>
                            <div class="tool-description">Advanced text editor</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="vscode">
                        <div class="tool-info">
                            <div class="tool-name">Visual Studio Code</div>
                            <div class="tool-description">Modern IDE from Microsoft</div>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <!-- Modern CLI Tools Section -->
        <div class="section">
            <h2>🚀 Modern CLI Tools <span class="select-all" onclick="toggleSection('modern')">select all</span></h2>
            <div class="tool-grid" id="modern">
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="ripgrep" checked>
                        <div class="tool-info">
                            <div class="tool-name">ripgrep <code class="code-badge">rg</code></div>
                            <div class="tool-description">Blazingly fast grep alternative</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="bat" checked>
                        <div class="tool-info">
                            <div class="tool-name">bat <code class="code-badge">cat replacement</code></div>
                            <div class="tool-description">cat with syntax highlighting</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="fd" checked>
                        <div class="tool-info">
                            <div class="tool-name">fd <code class="code-badge">find replacement</code></div>
                            <div class="tool-description">Simple, fast alternative to find</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="fzf" checked>
                        <div class="tool-info">
                            <div class="tool-name">fzf</div>
                            <div class="tool-description">Fuzzy finder for files and history</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="zoxide" checked>
                        <div class="tool-info">
                            <div class="tool-name">zoxide <code class="code-badge">z</code></div>
                            <div class="tool-description">Smarter cd that learns your habits</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="eza">
                        <div class="tool-info">
                            <div class="tool-name">eza <code class="code-badge">ls replacement</code></div>
                            <div class="tool-description">Modern ls with icons and Git status</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="htop" checked>
                        <div class="tool-info">
                            <div class="tool-name">htop</div>
                            <div class="tool-description">Interactive process viewer</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="jq" checked>
                        <div class="tool-info">
                            <div class="tool-name">jq</div>
                            <div class="tool-description">JSON processor</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="httpie">
                        <div class="tool-info">
                            <div class="tool-name">HTTPie</div>
                            <div class="tool-description">Human-friendly HTTP client</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="tldr">
                        <div class="tool-info">
                            <div class="tool-name">tldr</div>
                            <div class="tool-description">Simplified man pages</div>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <!-- Terminal Tools Section -->
        <div class="section">
            <h2>💻 Terminal & Multiplexers <span class="select-all" onclick="toggleSection('terminal')">select all</span></h2>
            <div class="tool-grid" id="terminal">
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="tmux" checked>
                        <div class="tool-info">
                            <div class="tool-name">tmux</div>
                            <div class="tool-description">Terminal multiplexer</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="screen">
                        <div class="tool-info">
                            <div class="tool-name">GNU Screen</div>
                            <div class="tool-description">Terminal multiplexer (alternative)</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="tmate">
                        <div class="tool-info">
                            <div class="tool-name">tmate</div>
                            <div class="tool-description">Terminal sharing</div>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <!-- Programming Languages Section -->
        <div class="section">
            <h2>📚 Programming Languages <span class="select-all" onclick="toggleSection('languages')">select all</span></h2>
            <div class="tool-grid" id="languages">
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="nodejs" checked>
                        <div class="tool-info">
                            <div class="tool-name">Node.js (via nvm)</div>
                            <div class="tool-description">JavaScript runtime with version manager</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="rust" checked>
                        <div class="tool-info">
                            <div class="tool-name">Rust</div>
                            <div class="tool-description">Systems programming language</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="python-tools">
                        <div class="tool-info">
                            <div class="tool-name">Python Tools</div>
                            <div class="tool-description">pip, venv, and development packages</div>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <!-- Container Tools Section -->
        <div class="section">
            <h2>🐳 Container Tools <span class="select-all" onclick="toggleSection('containers')">select all</span></h2>
            <div class="tool-grid" id="containers">
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="docker" checked>
                        <div class="tool-info">
                            <div class="tool-name">Docker CE</div>
                            <div class="tool-description">Container platform with compose</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="podman">
                        <div class="tool-info">
                            <div class="tool-name">Podman</div>
                            <div class="tool-description">Rootless container engine</div>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <!-- Hardware Tools Section -->
        <div class="section">
            <h2>🔌 Hardware & Embedded Tools <span class="select-all" onclick="toggleSection('hardware')">select all</span></h2>
            <div class="tool-grid" id="hardware">
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="can-utils">
                        <div class="tool-info">
                            <div class="tool-name">CAN Utils</div>
                            <div class="tool-description">CAN bus interface utilities</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="i2c-tools">
                        <div class="tool-info">
                            <div class="tool-name">I2C Tools</div>
                            <div class="tool-description">I2C/SMBus chip access tools</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="minicom">
                        <div class="tool-info">
                            <div class="tool-name">Minicom</div>
                            <div class="tool-description">Serial communication program</div>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <!-- Configuration Section -->
        <div class="section">
            <h2>⚙️ Configuration Options</h2>
            <div class="tool-grid">
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="shell-aliases" checked>
                        <div class="tool-info">
                            <div class="tool-name">Shell Aliases</div>
                            <div class="tool-description">Custom aliases and functions</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="backup-configs" checked>
                        <div class="tool-info">
                            <div class="tool-name">Backup Existing Configs</div>
                            <div class="tool-description">Create backups before modifying</div>
                        </div>
                    </label>
                </div>
                <div class="tool-item">
                    <label>
                        <input type="checkbox" name="auto-update">
                        <div class="tool-info">
                            <div class="tool-name">Auto Update Packages</div>
                            <div class="tool-description">Update package lists before install</div>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <div class="action-buttons">
            <button onclick="generateScript()">⚡ Generate Script</button>
            <button onclick="downloadScript()" class="secondary">💾 Download</button>
            <button onclick="copyScript()" class="secondary">📋 Copy</button>
            <button onclick="resetSelection()" class="secondary">🔄 Reset</button>
        </div>

        <div id="scriptOutput" class="script-output"></div>
    </div>

    <script>
        // Create floating particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (20 + Math.random() * 10) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Workstation presets
        const workstationPresets = {
            doppler: {
                name: 'doppler',
                tools: ['git', 'build-essential', 'vim', 'vscode', 'ripgrep', 'bat', 'fd', 'fzf', 'zoxide', 'htop', 'jq', 'tmux', 'nodejs', 'rust', 'docker', 'shell-aliases', 'backup-configs']
            },
            kepler: {
                name: 'kepler',
                tools: ['git', 'build-essential', 'ripgrep', 'bat', 'fd', 'fzf', 'zoxide', 'htop', 'tmux', 'nodejs', 'docker', 'shell-aliases']
            },
            merlin: {
                name: 'merlin',
                tools: ['git', 'build-essential', 'ripgrep', 'bat', 'fd', 'htop', 'tmux', 'docker', 'shell-aliases']
            },
            celsius: {
                name: 'celsius',
                tools: ['git', 'build-essential', 'ripgrep', 'bat', 'fd', 'htop', 'tmux', 'docker', 'shell-aliases']
            },
            macgyver: {
                name: 'macgyver',
                tools: ['git', 'build-essential', 'can-utils', 'i2c-tools', 'minicom', 'htop', 'tmux', 'python-tools', 'shell-aliases']
            },
            flashbatt: {
                name: 'flashbatt',
                tools: ['git', 'can-utils', 'minicom', 'htop', 'python-tools', 'shell-aliases']
            }
        };

        let currentWorkstation = null;

        // Select workstation
        function selectWorkstation(name) {
            currentWorkstation = name;
            document.getElementById('workstationName').textContent = name;
            
            // Clear all selections first
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                cb.checked = false;
                updateToolItemStyle(cb);
            });
            
            // Apply preset
            const preset = workstationPresets[name];
            if (preset) {
                preset.tools.forEach(tool => {
                    const checkbox = document.querySelector(`input[name="${tool}"]`);
                    if (checkbox) {
                        checkbox.checked = true;
                        updateToolItemStyle(checkbox);
                    }
                });
            }
            
            // Update workstation items visual state
            document.querySelectorAll('.workstation-item').forEach(item => {
                item.style.borderColor = 'rgba(0, 255, 255, 0.2)';
                item.style.background = 'rgba(0, 255, 255, 0.05)';
            });
            event.currentTarget.style.borderColor = 'var(--neon-green)';
            event.currentTarget.style.background = 'rgba(0, 255, 136, 0.1)';
            
            updateCounts();
        }

        // Update counts
        function updateCounts() {
            const total = document.querySelectorAll('input[type="checkbox"]').length;
            const selected = document.querySelectorAll('input[type="checkbox"]:checked').length;
            document.getElementById('totalCount').textContent = total;
            document.getElementById('selectedCount').textContent = selected;
        }

        // Toggle all in section
        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            const checkboxes = section.querySelectorAll('input[type="checkbox"]');
            const allChecked = Array.from(checkboxes).every(cb => cb.checked);
            
            checkboxes.forEach(cb => {
                cb.checked = !allChecked;
                updateToolItemStyle(cb);
            });
            updateCounts();
        }

        // Update tool item style
        function updateToolItemStyle(checkbox) {
            const toolItem = checkbox.closest('.tool-item');
            if (checkbox.checked) {
                toolItem.classList.add('selected');
            } else {
                toolItem.classList.remove('selected');
            }
        }

        // Reset selection
        function resetSelection() {
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                cb.checked = false;
                updateToolItemStyle(cb);
            });
            currentWorkstation = null;
            document.getElementById('workstationName').textContent = '-';
            document.querySelectorAll('.workstation-item').forEach(item => {
                item.style.borderColor = 'rgba(0, 255, 255, 0.2)';
                item.style.background = 'rgba(0, 255, 255, 0.05)';
            });
            updateCounts();
        }

        // Generate install script
        function generateScript() {
            const selected = {};
            document.querySelectorAll('input[type="checkbox"]:checked').forEach(cb => {
                selected[cb.name] = true;
            });

            const workstation = currentWorkstation || 'custom';
            const timestamp = new Date().toISOString();

            let script = `#!/bin/bash
# CYBERPUNK PROVISIONING SYSTEM
# Generated: ${timestamp}
# Workstation: ${workstation}
# Selected tools: ${Object.keys(selected).length}

set -e  # Exit on error

echo "╔═══════════════════════════════════════════════════════════════╗"
echo "║         CYBERPUNK DEVELOPMENT ENVIRONMENT SETUP               ║"
echo "║         Workstation: ${workstation.padEnd(41)}║"
echo "║         Generated: ${new Date().toLocaleDateString().padEnd(43)}║"
echo "╚═══════════════════════════════════════════════════════════════╝"

`;

            // Add color definitions
            script += `# Terminal colors
RED='\\033[0;31m'
GREEN='\\033[0;32m'
BLUE='\\033[0;34m'
CYAN='\\033[0;36m'
YELLOW='\\033[1;33m'
NC='\\033[0m' # No Color

`;

            // Auto update
            if (selected['auto-update']) {
                script += `echo -e "\\n\${CYAN}[SYSTEM]\${NC} Updating package lists..."
sudo apt update

`;
            }

            // Core tools
            const coreTools = [];
            if (selected['build-essential']) coreTools.push('build-essential', 'cmake', 'pkg-config');
            if (selected['git']) coreTools.push('git', 'curl', 'wget');
            if (selected['vim']) coreTools.push('vim');
            
            if (coreTools.length > 0) {
                script += `echo -e "\\n\${CYAN}[CORE]\${NC} Installing development tools..."
sudo apt install -y ${coreTools.join(' ')}

`;
            }

            // GitHub CLI
            if (selected['git']) {
                script += `# GitHub CLI
if ! command -v gh &> /dev/null; then
    echo -e "\${CYAN}[GIT]\${NC} Installing GitHub CLI..."
    curl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | sudo dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg
    echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main" | sudo tee /etc/apt/sources.list.d/github-cli.list > /dev/null
    sudo apt update
    sudo apt install -y gh
fi

`;
            }

            // Modern CLI tools
            const modernTools = [];
            if (selected['ripgrep']) modernTools.push('ripgrep');
            if (selected['bat']) modernTools.push('bat');
            if (selected['fd']) modernTools.push('fd-find');
            if (selected['fzf']) modernTools.push('fzf');
            if (selected['jq']) modernTools.push('jq');
            if (selected['httpie']) modernTools.push('httpie');
            if (selected['htop']) modernTools.push('htop');
            if (selected['tldr']) modernTools.push('tldr');
            
            if (modernTools.length > 0) {
                script += `echo -e "\\n\${CYAN}[CLI]\${NC} Installing modern CLI tools..."
sudo apt install -y ${modernTools.join(' ')}

`;
            }

            // Terminal tools
            const terminalTools = [];
            if (selected['tmux']) terminalTools.push('tmux');
            if (selected['screen']) terminalTools.push('screen');
            if (selected['tmate']) terminalTools.push('tmate');
            
            if (terminalTools.length > 0) {
                script += `echo -e "\\n\${CYAN}[TERM]\${NC} Installing terminal tools..."
sudo apt install -y ${terminalTools.join(' ')}

`;
            }

            // Hardware tools
            const hardwareTools = [];
            if (selected['can-utils']) hardwareTools.push('can-utils');
            if (selected['i2c-tools']) hardwareTools.push('i2c-tools');
            if (selected['minicom']) hardwareTools.push('minicom');
            
            if (hardwareTools.length > 0) {
                script += `echo -e "\\n\${CYAN}[HW]\${NC} Installing hardware tools..."
sudo apt install -y ${hardwareTools.join(' ')}

`;
            }

            // Zoxide
            if (selected['zoxide']) {
                script += `echo -e "\\n\${CYAN}[NAV]\${NC} Installing zoxide..."
curl -sS https://raw.githubusercontent.com/ajeetdsouza/zoxide/main/install.sh | bash

`;
            }

            // Node.js
            if (selected['nodejs']) {
                script += `# Node.js via nvm
if ! command -v nvm &> /dev/null; then
    echo -e "\\n\${CYAN}[NODE]\${NC} Installing Node.js (via nvm)..."
    curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
    export NVM_DIR="$HOME/.nvm"
    [ -s "$NVM_DIR/nvm.sh" ] && \\. "$NVM_DIR/nvm.sh"
    nvm install --lts
    nvm use --lts
fi

`;
            }

            // Rust
            if (selected['rust']) {
                script += `# Rust
if ! command -v rustc &> /dev/null; then
    echo -e "\\n\${CYAN}[RUST]\${NC} Installing Rust toolchain..."
    curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
    source "$HOME/.cargo/env"
fi

`;
            }

            // Python tools
            if (selected['python-tools']) {
                script += `echo -e "\\n\${CYAN}[PY]\${NC} Installing Python tools..."
sudo apt install -y python3-pip python3-venv python3-dev

`;
            }

            // Docker
            if (selected['docker']) {
                script += `# Docker
if ! command -v docker &> /dev/null; then
    echo -e "\\n\${CYAN}[DOCKER]\${NC} Installing Docker..."
    curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
    echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
    sudo apt update
    sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
    sudo usermod -aG docker $USER
fi

`;
            }

            // VS Code
            if (selected['vscode']) {
                script += `# Visual Studio Code
if ! command -v code &> /dev/null; then
    echo -e "\\n\${CYAN}[IDE]\${NC} Installing Visual Studio Code..."
    wget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > packages.microsoft.gpg
    sudo install -o root -g root -m 644 packages.microsoft.gpg /usr/share/keyrings/
    sudo sh -c 'echo "deb [arch=amd64,arm64,armhf signed-by=/usr/share/keyrings/packages.microsoft.gpg] https://packages.microsoft.com/repos/code stable main" > /etc/apt/sources.list.d/vscode.list'
    sudo apt update
    sudo apt install -y code
fi

`;
            }

            // Shell configuration
            if (selected['shell-aliases']) {
                // Backup
                if (selected['backup-configs']) {
                    script += `# Backup existing configuration
if [ -f ~/.bashrc ]; then
    cp ~/.bashrc ~/.bashrc.backup-$(date +%Y%m%d-%H%M%S)
    echo -e "\${CYAN}[BACKUP]\${NC} Backed up ~/.bashrc"
fi

`;
                }

                script += `# Configure shell aliases
if ! grep -q "CYBERPUNK DOTFILES" ~/.bashrc 2>/dev/null; then
    echo -e "\\n\${CYAN}[CONFIG]\${NC} Installing shell configuration..."
    cat >> ~/.bashrc << 'EOF'

# ═══════════════════════════════════════════════════════════════
# CYBERPUNK DOTFILES - ${workstation.toUpperCase()}
# ═══════════════════════════════════════════════════════════════

# Modern tool aliases
command -v batcat &> /dev/null && alias cat='batcat'
command -v fdfind &> /dev/null && alias fd='fdfind'
command -v eza &> /dev/null && alias ls='eza --icons'

# Git shortcuts
alias gs='git status'
alias ga='git add'
alias gc='git commit'
alias gp='git push'
alias gl='git log --oneline --graph'

# Docker shortcuts
alias dps='docker ps'
alias dcu='docker compose up -d'
alias dcd='docker compose down'

# Navigation
alias ..='cd ..'
alias ...='cd ../..'

# Initialize tools
command -v zoxide &> /dev/null && eval "$(zoxide init bash)"
[ -f "$HOME/.cargo/env" ] && source "$HOME/.cargo/env"
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \\. "$NVM_DIR/nvm.sh"

# Workstation: ${workstation}

EOF
fi

`;
            }

            script += `echo -e "\\n\${GREEN}╔═══════════════════════════════════════════════════════════════╗\${NC}"
echo -e "\${GREEN}║                    INSTALLATION COMPLETE!                     ║\${NC}"
echo -e "\${GREEN}╚═══════════════════════════════════════════════════════════════╝\${NC}"
echo -e "\\nRun: source ~/.bashrc"
`;

            // Display the script
            const output = document.getElementById('scriptOutput');
            output.textContent = script;
            output.style.display = 'block';
            output.scrollTop = 0;
        }

        // Download script
        function downloadScript() {
            const script = document.getElementById('scriptOutput').textContent;
            if (!script) {
                alert('Generate a script first!');
                return;
            }
            
            const filename = currentWorkstation ? 
                `provision-${currentWorkstation}.sh` : 
                'provision-custom.sh';
            
            const blob = new Blob([script], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            window.URL.revokeObjectURL(url);
        }

        // Copy to clipboard
        async function copyScript() {
            const script = document.getElementById('scriptOutput').textContent;
            if (!script) {
                alert('Generate a script first!');
                return;
            }
            
            try {
                await navigator.clipboard.writeText(script);
                alert('Script copied to clipboard!');
            } catch (err) {
                alert('Failed to copy script');
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            createParticles();
            
            // Add change listeners
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                cb.addEventListener('change', (e) => {
                    updateToolItemStyle(e.target);
                    updateCounts();
                });
                updateToolItemStyle(cb);
            });
            
            updateCounts();
        });
    </script>
</body>
</html>